(function(t){function e(e){for(var a,r,i=e[0],s=e[1],u=e[2],d=0,m=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);c&&c(e);while(m.length)m.shift()();return l.push.apply(l,u||[]),n()}function n(){for(var t,e=0;e<l.length;e++){for(var n=l[e],a=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(a=!1)}a&&(l.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},l=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var c=s;l.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"106c":function(t,e,n){"use strict";var a=n("8c4e"),o=n.n(a);o.a},"3adb":function(t,e,n){"use strict";var a=n("87e5"),o=n.n(a);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n(t.currentComponent,{tag:"component",attrs:{props:t.currentProperties}})],1)},l=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"clients"}},[n("div",[n("b-button",{style:"margin-bottom: 10px",on:{click:function(e){return t.openTransactions()}}},[t._v("Transactions")]),n("b-table",{attrs:{striped:"",hover:"",busy:t.isBusy,fields:t.fields,items:t.items},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[n("b-link",{on:{click:function(n){return t.showClient(e.item)}}},[t._v(t._s(e.value))])]}},{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("b-spinner",{staticClass:"align-middle"}),n("strong",[t._v("Loading...")])],1)]},proxy:!0}])})],1),n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.createClient",modifiers:{createClient:!0}}]},[t._v("Add client")]),n("b-modal",{ref:"createClient",attrs:{id:"createClient",title:"Create Client"},on:{ok:t.onSubmit}},[n("b-form",[n("b-form-group",{attrs:{id:"input-group-1",label:"Name:","label-for":"input-1"}},[n("b-form-input",{attrs:{id:"input-1",required:"",placeholder:"Enter name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Address:","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-2",required:"",placeholder:"Enter address"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),n("b-form-group",{attrs:{id:"input-group-3",label:"Age:","label-for":"input-3"}},[n("b-form-input",{attrs:{id:"input-3",required:"",type:"number",placeholder:"Enter age"},model:{value:t.form.age,callback:function(e){t.$set(t.form,"age",e)},expression:"form.age"}})],1)],1)],1)],1)},i=[],s=n("bc3a"),u=n.n(s),c={name:"clients",data:function(){return{fields:[{key:"name",label:"Name"},{key:"address",label:"Address"},{key:"age",label:"Age"},{key:"createdAt",label:"Created Date",formatter:function(t){return new Date(t).toLocaleString()}}],form:{name:"",address:"",age:""},items:null,isBusy:!0}},mounted:function(){var t=this;u.a.get("http://localhost/client").then((function(e){t.items=e.data,t.isBusy=!1}))},methods:{showClient:function(t){this.$parent.openClient(t)},openTransactions:function(){this.$parent.openTransactions()},onSubmit:function(){var t=this;this.$refs["createClient"].hide(),u.a.put("http://localhost/client",this.form).then((function(e){return t.items.push(e.data)}))}}},d=c,m=(n("106c"),n("2877")),p=Object(m["a"])(d,r,i,!1,null,null,null),f=p.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"client"}},[n("b-button",{style:"margin-bottom: 10px",on:{click:function(e){return t.back()}}},[t._v("Back")]),n("b-alert",{attrs:{variant:"danger",dismissible:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v("\n        The client does not have wallets!\n    ")]),n("b-table",{attrs:{striped:"",hover:"",busy:t.isBusy,fields:t.fields,items:t.wallets},scopedSlots:t._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("b-spinner",{staticClass:"align-middle"}),n("strong",[t._v("Loading...")])],1)]},proxy:!0}])}),n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.createWallet",modifiers:{createWallet:!0}}],staticClass:"m-1"},[t._v("Add Wallet")]),n("b-button",{directives:[{name:"show",rawName:"v-show",value:0!==t.wallets.length,expression:"wallets.length !== 0"},{name:"b-modal",rawName:"v-b-modal.sendClient",modifiers:{sendClient:!0}}],staticClass:"m-1",attrs:{variant:"info"}},[t._v("Send to client\n    ")]),n("b-button",{directives:[{name:"show",rawName:"v-show",value:0!==t.wallets.length,expression:"wallets.length !== 0"},{name:"b-modal",rawName:"v-b-modal.exchange",modifiers:{exchange:!0}}],staticClass:"m-1",attrs:{variant:"info"}},[t._v("Exchange")]),n("b-button",{directives:[{name:"show",rawName:"v-show",value:0!==t.wallets.length,expression:"wallets.length !== 0"},{name:"b-modal",rawName:"v-b-modal.deposit",modifiers:{deposit:!0}}],staticClass:"m-1",attrs:{variant:"success"}},[t._v("Deposit")]),n("b-button",{directives:[{name:"show",rawName:"v-show",value:0!==t.wallets.length,expression:"wallets.length !== 0"},{name:"b-modal",rawName:"v-b-modal.withdraw",modifiers:{withdraw:!0}}],staticClass:"m-1",attrs:{variant:"danger"}},[t._v("Withdraw")]),n("b-modal",{ref:"createWallet",attrs:{id:"createWallet",title:"Add Wallet"},on:{ok:t.onCreateWallet}},[n("b-form",[n("b-form-group",{attrs:{id:"input-group-3",label:"Balance:","label-for":"input-3"}},[n("b-form-input",{attrs:{id:"input-3",required:"",type:"number",placeholder:"Enter balance"},model:{value:t.createWalletForm.balance,callback:function(e){t.$set(t.createWalletForm,"balance",e)},expression:"createWalletForm.balance"}})],1)],1)],1),n("b-modal",{ref:"sendClient",attrs:{id:"sendClient",title:"Send money to client"},on:{ok:t.onSendClient}},[n("b-form",[n("b-form-group",{attrs:{id:"input-group-1",label:"From wallet:","label-for":"input-1"}},[n("b-form-select",{attrs:{id:"input-1",options:t.optionWallets,required:""},model:{value:t.sendForm.fromWallet,callback:function(e){t.$set(t.sendForm,"fromWallet",e)},expression:"sendForm.fromWallet"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"To client:","label-for":"input-2"}},[n("b-form-select",{attrs:{id:"input-2",options:t.optionClients,required:""},model:{value:t.sendForm.toClient,callback:function(e){t.$set(t.sendForm,"toClient",e)},expression:"sendForm.toClient"}})],1),n("b-form-group",{attrs:{id:"input-group-3",label:"Amount:","label-for":"input-3"}},[n("b-form-input",{attrs:{id:"input-3",required:"",min:"0",type:"number",placeholder:"Enter amount"},model:{value:t.sendForm.amount,callback:function(e){t.$set(t.sendForm,"amount",e)},expression:"sendForm.amount"}})],1)],1)],1),n("b-modal",{ref:"exchange",attrs:{id:"exchange",title:"Exchange money"},on:{ok:t.onExchange}},[n("b-form",[n("b-form-group",{attrs:{id:"input-group-1",label:"From wallet:","label-for":"input-1"}},[n("b-form-select",{attrs:{id:"input-1",options:t.optionWallets,required:""},model:{value:t.exchangeForm.fromWallet,callback:function(e){t.$set(t.exchangeForm,"fromWallet",e)},expression:"exchangeForm.fromWallet"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"To wallet:","label-for":"input-2"}},[n("b-form-select",{attrs:{id:"input-2",options:t.optionWallets,required:""},model:{value:t.exchangeForm.toWallet,callback:function(e){t.$set(t.exchangeForm,"toWallet",e)},expression:"exchangeForm.toWallet"}})],1),n("b-form-group",{attrs:{id:"input-group-3",label:"Balance:","label-for":"input-3"}},[n("b-form-input",{attrs:{id:"input-3",required:"",min:"0",type:"number",placeholder:"Enter balance"},model:{value:t.exchangeForm.amount,callback:function(e){t.$set(t.exchangeForm,"amount",e)},expression:"exchangeForm.amount"}})],1)],1)],1),n("b-modal",{ref:"deposit",attrs:{id:"deposit",title:"Deposit"},on:{ok:t.onDeposit}},[n("b-form",[n("b-form-group",{attrs:{id:"input-group-1",label:"Wallet:","label-for":"input-1"}},[n("b-form-select",{attrs:{id:"input-1",options:t.optionWallets,required:""},model:{value:t.ioBalanceForm.walletId,callback:function(e){t.$set(t.ioBalanceForm,"walletId",e)},expression:"ioBalanceForm.walletId"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Amount:","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-2",required:"",min:"0",type:"number",placeholder:"Enter amount"},model:{value:t.ioBalanceForm.amount,callback:function(e){t.$set(t.ioBalanceForm,"amount",e)},expression:"ioBalanceForm.amount"}})],1)],1)],1),n("b-modal",{ref:"withdraw",attrs:{id:"withdraw",title:"Withdraw"},on:{ok:t.onWithdraw}},[n("b-form",[n("b-form-group",{attrs:{id:"input-group-1",label:"Wallet:","label-for":"input-1"}},[n("b-form-select",{attrs:{id:"input-1",options:t.optionWallets,required:""},model:{value:t.ioBalanceForm.walletId,callback:function(e){t.$set(t.ioBalanceForm,"walletId",e)},expression:"ioBalanceForm.walletId"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Amount:","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-2",required:"",min:"0",type:"number",placeholder:"Enter amount"},model:{value:t.ioBalanceForm.amount,callback:function(e){t.$set(t.ioBalanceForm,"amount",e)},expression:"ioBalanceForm.amount"}})],1)],1)],1)],1)},h=[],g=(n("ac6a"),n("7f7f"),{name:"client",props:{props:null},data:function(){return{fields:[{key:"id",label:"Number"},{key:"balance",label:"Balance"},{key:"createdAt",label:"Created Date",formatter:function(t){return new Date(t).toLocaleString()}}],createWalletForm:{balance:0,clientId:this.props.id},exchangeForm:{toWallet:0,fromWallet:0,amount:0},sendForm:{toClient:0,fromWallet:0,amount:0},ioBalanceForm:{amount:0,walletId:null},optionWallets:[],optionClients:[],wallets:[],show:!1,isBusy:!0}},mounted:function(){var t=this;u.a.get("http://localhost/client/"+this.props.id+"/wallets").then((function(e){0!==e.data.length?(t.wallets=e.data,t.updateOptions()):t.show=t,t.isBusy=!1})),u.a.get("http://localhost/client").then((function(e){t.optionClients=e.data.map((function(t){return{text:t.name+" (ID: "+t.id+")",value:t.id}}))}))},methods:{back:function(){this.$parent.openClients()},updateOptions:function(){0!==this.wallets.length&&(this.optionWallets=this.wallets.map((function(t){return{text:"ID: "+t.id,value:t.id}})),this.exchangeForm.fromWallet=this.wallets[0].id,this.exchangeForm.toWallet=this.wallets[0].id,this.ioBalanceForm.walletId=this.wallets[0].id,this.sendForm.fromWallet=this.wallets[0].id)},onCreateWallet:function(){var t=this;this.$refs["createWallet"].hide(),u.a.put("http://localhost/payment/wallet",this.createWalletForm).then((function(e){t.wallets.push(e.data),t.show=!1,t.updateOptions()}))},onSendClient:function(){var t=this;this.$refs["sendClient"].hide(),u.a.post("http://localhost/payment/send",this.sendForm).then((function(e){e.data.forEach((function(e){t.wallets.forEach((function(n,a){e.id===n.id&&t.wallets.splice(a,1,e)}))}))}))},onExchange:function(){var t=this;this.$refs["exchange"].hide(),u.a.post("http://localhost/payment/exchange",this.exchangeForm).then((function(e){e.data.forEach((function(e){t.wallets.forEach((function(n,a){e.id===n.id&&t.wallets.splice(a,1,e)}))}))}))},onDeposit:function(){var t=this;this.$refs["deposit"].hide(),u.a.post("http://localhost/payment/deposit",this.ioBalanceForm).then((function(e){t.wallets.forEach((function(n,a){e.data.id===n.id&&t.wallets.splice(a,1,e.data)}))}))},onWithdraw:function(){var t=this;this.$refs["withdraw"].hide(),u.a.post("http://localhost/payment/withdraw",this.ioBalanceForm).then((function(e){t.wallets.forEach((function(n,a){e.data.id===n.id&&t.wallets.splice(a,1,e.data)}))}))}}}),v=g,w=(n("c88e"),Object(m["a"])(v,b,h,!1,null,null,null)),y=w.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"client"}},[n("b-button",{style:"margin-bottom: 10px",on:{click:function(e){return t.back()}}},[t._v("Back")]),n("b-form-group",{attrs:{label:"Filter","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"filterInput"}},[n("b-input-group",{attrs:{size:"sm"}},[n("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),n("b-input-group-append",[n("b-button",{on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1),n("b-table",{attrs:{id:"table-transition-example",items:t.items,fields:t.fields,filter:t.filter,striped:"",small:"","sticky-header":"600px","primary-key":"createdAt","tbody-transition-props":t.transProps},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(show_details)",fn:function(e){return[n("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:function(n){return t.showDetails(e)}}},[t._v("\n                "+t._s(e.detailsShowing?"Hide":"Show")+" Details\n            ")])]}},{key:"row-details",fn:function(e){return[n("b-card",[n("b-spinner",{directives:[{name:"show",rawName:"v-show",value:!e.item.spinner,expression:"!row.item.spinner"}],ref:"spinner-"+e.item.id,attrs:{type:"grow",label:"Loading..."}}),n("span",[t._v(t._s(e.item.info))])],1)]}}])})],1)},k=[],F=(n("5df3"),{name:"transactions",data:function(){return{transProps:{name:"flip-list"},filter:null,items:null,fields:[{key:"from.id",sortable:!0,label:"Wallet From"},{key:"to.id",sortable:!0,label:"Wallet To"},{key:"amount",sortable:!0,label:"Amount"},{key:"createdAt",sortable:!0,label:"Created Date",formatter:function(t){return new Date(t).toLocaleString()}},{key:"show_details",label:"Action"}]}},mounted:function(){var t=this;u.a.get("http://localhost/payment").then((function(e){return t.items=e.data.map((function(t){var e={};return null===t.from&&(e["from.id"]="danger"),null===t.to&&(e["to.id"]="danger"),t._cellVariants=e,t}))}))},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},methods:{back:function(){this.$parent.openClients()},onFiltered:function(){},showDetails:function(t){if(t.toggleDetails(),!t.item.spinner){var e=t.item;null!==e.from&&null!==e.to?Promise.all([u.a.get("http://localhost/client/"+e.from.clientIdd),u.a.get("http://localhost/client/"+e.to.clientIdd)]).then((function(n){var o=n[0].data,l=n[1].data;a["default"].set(t.item,"spinner",!0),a["default"].set(t.item,"info","Transfer "+e.amount+" money unit ["+o.name+"(ID: "+o.id+") --\x3e "+l.name+"(ID: "+l.id+")]")})):null!==e.from?u.a.get("http://localhost/client/"+e.from.clientIdd).then((function(n){a["default"].set(t.item,"spinner",!0),a["default"].set(t.item,"info",n.data.name+"(ID: "+n.data.id+") withdraw "+e.amount+" money unit")})):null!==e.to&&u.a.get("http://localhost/client/"+e.to.clientIdd).then((function(n){a["default"].set(t.item,"spinner",!0),a["default"].set(t.item,"info",n.data.name+"(ID: "+n.data.id+") deposit "+e.amount+" money unit")}))}}}}),C=F,W=(n("3adb"),Object(m["a"])(C,x,k,!1,null,null,null)),_=W.exports,$={name:"app",data:function(){return{currentComponent:f,currentProperties:null}},methods:{openClient:function(t){this.currentProperties=t,this.currentComponent=y},openTransactions:function(){this.currentProperties=null,this.currentComponent=_},openClients:function(){this.currentProperties=null,this.currentComponent=f}}},B=$,E=Object(m["a"])(B,o,l,!1,null,null,null),I=E.exports,D=n("5f5b");n("f9e3"),n("2dd8");a["default"].use(D["a"]),a["default"].config.productionTip=!1,new a["default"]({render:function(t){return t(I)}}).$mount("#app")},"87e5":function(t,e,n){},"8c4e":function(t,e,n){},"9f5b":function(t,e,n){},c88e:function(t,e,n){"use strict";var a=n("9f5b"),o=n.n(a);o.a}});
//# sourceMappingURL=app.e2c2f2ca.js.map